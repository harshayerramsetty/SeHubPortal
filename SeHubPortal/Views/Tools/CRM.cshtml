
@{
    ViewBag.Title = "CRM";
    Layout = "~/Views/Shared/_ToolsLayout.cshtml";
}


@model SeHubPortal.ViewModel.CustomerReportingViewModel


<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>

    @if (Model.SehubAccess.plant > 0)
    {
        <style>
            #PlantClicked {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.payroll > 0)
    {
        <style>
            #PayrollClicked {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.fleetTVT > 0)
    {
        <style>
            #FleetTVTClicked {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.treadTracker > 0)
    {
        <style>
            #treadTrackereClicked {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.library_access > 0)
    {
        <style>
            #libraryClicked {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.main > 0)
    {
        <style>
            #mainClicked {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.settings == 3)
    {
        <style>
            #SettingsClicked {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.management == 3)
    {
        <style>
            #ManagementClicked {
                display: block !important;
            }
        </style>
    }


    @if (Model.SehubAccess.tools_dashboard > 0)
    {
        <style>
            #DashboardLink {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.fuel_log > 0)
    {
        <style>
            #FuelLogLink {
                display: block !important;
            }
        </style>
    }

    @if (Model.SehubAccess.employee_id == 10577 || Model.SehubAccess.employee_id == 10901)
    {
        <style>
            #ExpnseClaimLink {
                display: block !important;
            }
        </style>
    }

    <style>

        #CRMLink {
            display: block !important;
        }

        #toolsClicked {
            display: block !important;
        }

        #toolsClicked {
            background-color: #f0f2f5;
        }

        #toolsBtn {
            font-weight: bold;
        }

        #dropArea {
            background: #b5b5b5;
            border: black dashed 1px;
            height: 50px;
            text-align: center;
            color: #fff;
            padding-top: 12px;
        }

        .active-drop {
            background: #77bafa !important;
            border: solid 2px blue !important;
            opacity: .5;
            color: black !important;
        }

        .modal {
            padding-right: 15%;
            overflow: hidden;
            margin-right: 0px;
        }

        ul#navigation .active {
            font-weight: bold;
        }

        #dropZone {
            border: 1px dotted red;
            text-align: center;
        }



        #CRMLink {
            color: black;
            font-weight: 700;
            background-color: #f0f2f5;
        }


        body {
            background-color: #f0f2f5;
            padding-right: 0 !important;
        }

        .heading {
            margin: 10px 0px 0px 0px;
        }

            .heading h2 {
                margin-top: 8px;
            }

        .card-header {
            background-color: #c0c2c4;
        }

            .card-header h6 {
                color: black;
            }

        #historyTable_info {
            display: none;
        }

        #historyTable2_info {
            display: none;
        }

        #historyTable3_info {
            display: none;
        }

        .dataTables_filter {
            float: right;
            height: 30px;
        }

        #historyTable_filter {
            display: none;
        }

        #historyTable2_filter {
            float: right;
            margin: 0px 0px 25px 0px;
        }

        #historyTable3_filter {
            float: right;
            margin: 0px 0px 25px 0px;
        }

            #historyTable3_filter input {
                float: right;
                margin: 0px 2px 0px 10px;
            }

        #historyTable2_filter input {
            float: right;
            margin: 0px 2px 0px 10px;
        }

        .dataTables_filter input {
            width: 285px;
        }

        #historyTable_paginate {
            float: right;
        }

        #historyTable2_paginate {
            float: right;
        }

        #historyTable3_paginate {
            float: right;
        }

        label {
            display: inline-flex;
            margin-top: 0px;
            margin-bottom: 0px;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .example::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .example {
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
    </style>
</head>
<body>
    <div class="row heading">
        <div class="col">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb" style="background-color:white;height:100%;margin-top:0px;">
                    <li class="breadcrumb-item"><a href="@Url.Action("CRM", "Tools")">Management</a></li>
                    <li class="breadcrumb-item " aria-current="page">Customer Reporting</li>
                </ol>
            </nav>
        </div>
        <button type="button" id="clickThis" class="btn" style="margin-bottom: 14px;">
            <i class="fa fa-bars" style="font-size: 25px "></i>
            <span class="sr-only">Toggle Menu</span>
        </button>
    </div>

    


    <div class="row" style="padding:0px 20px 0px 20px; margin-right:2px">
        <div class="col-lg-12" style="padding:0px !important;">
            <ul class="nav nav-tabs text-center" id="navigation" role="tablist" style="margin-left: 15px; border-top-left-radius: 10px;border-top-right-radius: 10px;">
                <li class="nav-item" onclick="CR()" style="width:250px">
                    <a class="nav-link active" data-toggle="tab" href="#home">Call Reporting</a>
                </li>
                <li class="nav-item" onclick="TA()" style="width:250px">
                    <a class="nav-link" data-toggle="tab" href="#menu1">Target Accounts</a>
                </li>

                @if (Model.SehubAccess.customer_reporting >= 3)
                {
                    <li class="nav-item" onclick="DR()" style="width:250px">
                        <a class="nav-link" data-toggle="tab" href="#menu2">Dispute Resolution</a>
                    </li>
                }

            </ul>
            <div class="tab-content" style="margin:0px 0px 0px 15px">
                <div id="home" class=" tab-pane active shadow-sm" style="height:700px; background-color:white; padding-top:15px; margin-bottom:15px">
                    <div class="row" style="padding:0px 15px 0px 30px">
                        <div class="col-lg-4">
                            <div class="row" style="height:50%; margin-bottom:10px">
                                <div class="col-lg-12" style="padding:0px">
                                    <div class="card" style="height:100%; border:2px solid #aeafb0">
                                        <div class="card-header text-center" style="background-color: #c0c2c4 !important; padding:7px 0px 1px 0px">
                                            <h4 style="font-weight:bold; color:white">Select Customer</h4>
                                        </div>

                                        <div class="card-body" style="padding:0px">

                                            <div class="row" style="margin:10px">
                                                <div class="col-lg-12">
                                                    <div class="row" style="margin-bottom:5px;">
                                                        <div class="col-lg-12">

                                                            @using (Html.BeginForm("CRMSelectedCustomer", "Tools", FormMethod.Post))
                                                            {
                                                                @Html.DropDownListFor(m => m.Custname, Model.Customers, "Please select", new { @style = "text-align-last: center; width:100%; height:30px", @onChange = "this.form.submit()" })

                                                            }
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                            @if (Model.Custname != null)
                                            {

                                                <div class="row" style="margin:10px">
                                                    <div class="col-lg-12">
                                                        <div class="row" style="margin-bottom:10px">
                                                            <div class="col-lg-5">
                                                                Account Number
                                                            </div>
                                                            <div class="col-lg-7" style="padding-left:0px">
                                                                @Model.customerDetails.cust_us1
                                                            </div>
                                                        </div>
                                                        <div class="row" style="margin-bottom:10px">
                                                            <div class="col-lg-5">
                                                                Phone Number
                                                            </div>
                                                            <div class="col-lg-7" style="padding-left:0px">
                                                                @Model.customerDetails.cust_phone
                                                            </div>
                                                        </div>
                                                        <div class="row" style="margin-bottom:10px">
                                                            <div class="col-lg-5">
                                                                Address
                                                            </div>
                                                            <div class="col-lg-7">
                                                                <div class="row"style="margin-bottom:10px">
                                                                    @Model.customerDetails.cust_add1
                                                                </div>
                                                                <div class="row"style="margin-bottom:10px">
                                                                    @Model.customerDetails.cust_add2
                                                                </div>
                                                                <div class="row"style="margin-bottom:10px">
                                                                    @Model.customerDetails.cust_add3
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @if (Model.Custname != null)
                            {
                                <div class="row" style="padding:0px">
                                    <div class="col-lg-6" style="padding:0px">
                                        <div class="card shadow-lg " type="button" data-toggle="modal" data-target="#AddCRM" style="width:240px; height:320px">
                                            <div class="card-body text-center" style="height:210px; padding-top:60px">
                                                <img src="~/Content/new_document.png" style="margin-top:0px; margin-bottom:35px; width:140px;">
                                                <h5 style="margin-left:0px"><b>New Report</b></h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">

                                    </div>
                                </div>
                            }
                        </div>

                        <div class="col-lg-8">
                            @if (Model.Custname != null)
                            {
                                <input id="custNum" style="display:none" type="text" name="name" value="@Model.customerDetails.cust_us1" />

                                <div id="Step5">
                                    <div class="row" style="padding:0px 15px 0px 15px; margin-bottom:10px;">
                                        <div class="col-lg-12" style="padding:0px">
                                            <div class="card " style="border:2px solid #aeafb0; height:673px;">
                                                <div class="card-header" style="background-color: #c0c2c4 !important; padding:0px 2px 2px 15px">
                                                    <div class="row">
                                                        <div class="col-lg-6" style="font-size:20px; padding-top:7px">
                                                            <h4 style="font-weight:bold; color:white">Reporting History</h4>
                                                        </div>
                                                        <div class="col-lg-6 text-right" style="padding-top:6px">
                                                            <button id="searchCR" class="btn btn-primary" style="margin-right:10px; float:right; padding:3px 20px 3px 20px">Search</button>
                                                            <input style="margin-right:10px;height:32px; width:200px;border-radius:4px; float:right " type="text" id="myInput" placeholder=" Search By Text" title="Type in a name">

                                                        </div>


                                                    </div>
                                                </div>

                                                <div class="card-body " style="padding:15px">

                                                    <div class="row example" style="padding:0px 15px 0px 15px; height:590px; overflow-y:auto; overflow-x:hidden;">
                                                        <table class="table table-striped table-bordered display compact" cellspacing="0" style="border-color:white; width:100%; height:100%;padding-right:0px !important; display:block">
                                                            <thead class="thead-dark" style="text-align: center">
                                                                <tr>
                                                                    <th scope="col" style="width:250px; padding:0px; margin:0px; font-size:8px">Date</th>
                                                                    <th scope="col" style="width:300px;padding:0px; margin:0px; font-size:8px">Employee</th>
                                                                    <th scope="col" style="width:200px; padding:0px; margin:0px; font-size:8px">visit</th>
                                                                    <th scope="col" style="width:420px; padding:0px; margin:0px; font-size:8px">Contact</th>
                                                                    <th style="width:120px; padding:0px; margin:0px; font-size:8px">Info</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody style="text-align:left;" id="callReport">
                                                                @if (Model.Custname != null)
                                                                {
                                                                    for (int i = 0; i < Model.customerReportingDetails.Count; i++)
                                                                    {
                                                                        <tr id="@i">
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:200px;">@Model.customerReportingDetails[i].visit_date.ToString("yyyy-MM-dd")</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:210px;">@Model.customerReportingDetails[i].EmployeeName</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:300px;">@Model.customerReportingDetails[i].visit_type</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:200px;">@Model.customerReportingDetails[i].customer_contact</td>
                                                                            <td style="display:none; overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:200px;">@Model.customerReportingDetails[i].discusssion_details</td>
                                                                            <td style="display:none; overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:200px;">@Model.customerReportingDetails[i].remainder</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 0px; margin:0px;width:100px;text-align:center">
                                                                                <a href="#" class="btn"><span style="display:none">@Model.customerReportingDetails[i].visit_type;@Model.customerReportingDetails[i].visit_date;@Model.customerReportingDetails[i].cta_employee_number;@Model.customerReportingDetails[i].customer_contact;@Model.customerReportingDetails[i].discusssion_details;@Model.customerReportingDetails[i].remainder;@Model.customerReportingDetails[i].EmployeeName;@Model.customerDetails.cust_phone;@i;@Model.customerReportingDetails.Count</span> <i class="fa fa-info" style="font-size:20px;opacity:0.8; color:dodgerblue;float:right"></i></a>
                                                                            </td>
                                                                        </tr>
                                                                    }

                                                                    foreach (var items in Model.customerReportingDetails)
                                                                    {
                                                                        <tr style="display:none">
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:200px;">@items.visit_date.ToString("yyyy-MM-dd")</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:210px;">@items.EmployeeName</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:300px;">@items.visit_type</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 10px; margin:0px;width:200px;">@items.customer_contact</td>
                                                                            <td style="overflow:hidden; padding:0px 0px 0px 0px; margin:0px;width:100px;text-align:center">
                                                                                <a href="#" class="btn"><span style="display:none">@items.visit_type;@items.visit_date;@items.cta_employee_number;@items.customer_contact;@items.discusssion_details;@items.remainder;@items.EmployeeName;@Model.customerDetails.cust_phone</span> <i class="fa fa-info" style="font-size:20px;opacity:0.8; color:dodgerblue;float:right"></i></a>
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                }
                                                            </tbody>

                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                        </div>

                    </div>
                </div>
                <div id="menu1" class="tab-pane fade" style="background-color:white; padding-top:10px; padding-left:0px">

                    <div class="row" style="margin:0px 0px 0px 0px;padding-top:13px; padding-bottom:15px; background-color:white;">

                        <div class="col-lg-6">
                            @using (Html.BeginForm("AddNewTADetails", "Tools", FormMethod.Post))
                            {
                                <div class="card shadow-sm" style="border:2px solid #aeafb0">
                                    <div class="card-header text-center" style="background-color:#c0c2c4; padding:7px 0px 7px 0px; color:white">
                                        <h4 class="modal-title" style="color:white" id="exampleModalLabel"><b>Submit New Target Account Report</b></h4>
                                    </div>
                                    <div class="card-body">

                                        <div class="row" style="margin-bottom:20px">
                                            <div class="col-lg-2">
                                                Company
                                            </div>
                                            <div class="col-lg-10">
                                                @Html.EditorFor(m => m.AddTA.customer_name, new { htmlAttributes = new { @class = "text-left", @required = "required", @style = "width:100%; height:30px" } })
                                            </div>
                                        </div>

                                        <div class="row" style="margin-bottom:15px">
                                            <div class="col-lg-6">
                                                <div class="row" style="margin-bottom:20px">
                                                    <div class="col-lg-4">
                                                        Phone *
                                                    </div>
                                                    <div class="col-lg-8">
                                                        <input type="text" name="name" value="" />
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4">
                                                        Visit Type *
                                                    </div>
                                                    <div class="col-lg-8">
                                                        @{
                                                            List
                                                            <SelectListItem>
                                                            listItems = new List
                                                            <SelectListItem>
                                                            ();
                                                            listItems.Add(new SelectListItem
                                                            {
                                                                Text = "Phone",
                                                                Value = "Phone"
                                                            });
                                                            listItems.Add(new SelectListItem
                                                            {
                                                                Text = "Face-To-Face",
                                                                Value = "Face-To-Face"
                                                            });
                                                        }
                                                        @Html.DropDownListFor(m => m.AddTA.visit_type, listItems, new { @class = "text", @style = "width:182px; height:30px" })
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-3">
                                                        Address
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <textarea style="width:100%" rows="3"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="margin-bottom:20px">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-4">
                                                        Date
                                                    </div>
                                                    <div class="col-lg-8">
                                                        @Html.EditorFor(m => m.AddTA.visit_date, new { htmlAttributes = new { @class = "text-left", @type = "date", @style = "width:182px; height:30px", @required = "required" } })
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-3">
                                                        Contact
                                                    </div>
                                                    <div class="col-lg-9">
                                                        @Html.EditorFor(m => m.AddTA.customer_contact, new { htmlAttributes = new { @class = "text-left", @required = "required", @style = "width:100%; height:30px" } })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding:0px 15px 0px 15px; margin-bottom:20px; margin-top:35px">
                                            @*<textarea class="col-lg-12" rows="7"></textarea>*@
                                            @Html.TextAreaFor(m => m.AddTA.discusssion_details, 7, 120, new {@placeholder = " Comments", htmlAttributes = new { @required = "required" } })
                                        </div>
                                        <div class="row" style="margin-top:0px; padding:0px 15px 0px 15px">
                                            @*<textarea class="col-lg-12" rows="5"></textarea>*@
                                            @Html.TextAreaFor(m => m.AddTA.remainder, 4, 120, new {@placeholder = " Reminders (Optional)", htmlAttributes = new { @required = "required" } })
                                        </div>
                                    </div>
                                    <div class="card-footer text-right" style="border:none">
                                        <button type="button" style="margin-right:10px; padding:3px 20px 3px 20px" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                                        <input type="submit" class="btn btn-success" style="padding:3px 30px 3px 30px" value="Save" />
                                    </div>
                                </div>
                            }
                        </div>

                        <div class="col-lg-6" >

                            <div class="row" style="margin-bottom:10px">
                                <div class="col-lg-6" style="font-size:20px;">
                                    <b><u>Reporting History</u></b>
                                </div>
                                <div class="col-lg-6 text-right">
                                    <button id="searchTA" class="btn btn-primary" style="float:right; padding:3px 20px 3px 20px">Search</button>
                                    <input style="margin-right:10px;height:32px; width:200px;border-radius:4px; float:right " type="text" id="myInputTA" placeholder=" Search By Text" title="Type in a name">
                                </div>
                            </div>

                            <div class="row" style="height:600px; overflow-y:auto; padding-right:15px; padding-left:15px">
                                <table class="table table-striped table-bordered display compact" cellspacing="0" style="display:block; width:100%; height:500px;border-color:white">
                                    <thead class="thead-dark" style="text-align: center">
                                        <tr>
                                            <th scope="col" style="width:150px; padding:0px; margin:0px; font-size:8px">Date</th>
                                            <th scope="col" style="width: 300px;padding: 0px;margin: 0px;font-size: 8px">Company</th>
                                            <th scope="col" style="width:200px; padding:0px; margin:0px; font-size:8px">visit</th>
                                            <th scope="col" style="width:200px; padding:0px; margin:0px; font-size:8px">Contact</th>
                                            <th style="width:70px; padding:0px; margin:0px; font-size:8px;">Info</th>
                                        </tr>
                                    </thead>
                                    <tbody id="targetAccount" style="width:100%; text-align:left">
                                        @foreach (var items in Model.targetAccountDetails)
                                        {
                                            <tr>
                                                <td style="padding:0px 0px 0px 10px; margin:0px;width:150px;">@items.visit_date.ToString("yyyy-MM-dd")</td>
                                                <td style="padding:0px 0px 0px 10px; margin:0px;">
                                                    @if (items.customer_name.Length > 21)
                                                    {
                                                        @items.customer_name.Substring(0, 20)
                                                    }
                                                    else
                                                    {
                                                        @items.customer_name
                                                    }
                                                </td>
                                                <td style="padding:0px 0px 0px 10px; margin:0px;width:170px;">@items.visit_type</td>
                                                <td style="padding:0px 0px 0px 10px; margin:0px;">
                                                    @if (items.customer_contact.Length > 16)
                                                    {
                                                        @items.customer_contact.Substring(0, 15)
                                                    }
                                                    else
                                                    {
                                                        @items.customer_contact
                                                    }
                                                </td>
                                                <td style="padding:0px 0px 0px 0px;margin: 0px;width: 60px;  text-align:center">
                                                    <a href="#" class="btn"><span style="display:none">@items.customer_name; @items.visit_type; @items.visit_date; @Model.emp_tbl.Where(x => x.employee_id == @items.cta_employee_number).Select(x => x.full_name).FirstOrDefault(); @items.customer_contact; @items.discusssion_details; @items.remainder </span> <i class="fa fa-info" style="font-size:20px;opacity:0.8; color:dodgerblue;float:right"></i></a>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="menu2" class="tab-pane fade" style="background-color:white; padding-top:10px;">
                    <div class="row" style="padding:7px 15px 15px 15px">
                        <div class="col-lg-6">
                            @using (Html.BeginForm("AddNewDRDetails", "Tools", FormMethod.Post))
                            {
                                <div class="card shadow-sm" style="border:2px solid #aeafb0">
                                    <div class="card-header text-center" style="background-color:#c0c2c4; padding:7px 0px 7px 0px">
                                        <h4 class="modal-title" id="exampleModalLabel" style="color:white"><b>Add New Dispute Resolution Details</b></h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="clo-lg-2" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                                <p>CTA Invoice #</p>
                                            </div>
                                            <div class="col-sm-4 text-center" style="margin-right: auto;">@Html.EditorFor(m => m.AddDR.invoice_number, new { htmlAttributes = new { @class = "text-center", @required = "required" } })<br /></div>
                                            <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                                <p>Employee</p>
                                            </div>
                                            <div class="col-sm-4 text-right"><input type="text" readonly name="name" value="@Model.username" /><br /></div>
                                        </div>
                                        <div class="row">
                                            <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                                <p>Date of Dispute</p>
                                            </div>
                                            <div class="col-sm-3 text-center" style="margin-right: auto; margin-left:4px">@Html.EditorFor(m => m.AddDR.date_dispute, new { htmlAttributes = new { @class = "text-center", @type = "date", @style = "width:184px", @required = "required" } })<br /></div>
                                            <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                                <p>Date of service</p>
                                            </div>
                                            <div class="col-sm-4 text-right">@Html.EditorFor(m => m.AddDR.date_service, new { htmlAttributes = new { @class = "text-center", @type = "date", @style = "width:184px", @required = "required" } })<br /></div>
                                        </div>
                                        <div class="row">
                                            <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                                <p>Mileage at dispute</p>
                                            </div>
                                            <div class="col-sm-3 text-center" style="margin-right: auto;margin-left:5px">@Html.EditorFor(m => m.AddDR.mileage_dispute, new { htmlAttributes = new { @class = "text-center", @required = "required" } })<br /></div>
                                            <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                                <p>Mileage at service</p>
                                            </div>
                                            <div class="col-sm-4 text-right">@Html.EditorFor(m => m.AddDR.mileage_service, new { htmlAttributes = new { @class = "text-center", @required = "required" } })<br /></div>
                                        </div>
                                        <div class="row" style="margin-top:20px">
                                            <div class="col-md-3">Customer:</div>
                                            <div class="col-md-3"><input type="radio" style="margin-left:10px" id="Account_number_Post" /> Account Number</div>
                                            <div class="col-md-3">@Html.EditorFor(m => m.AddDR.customer_number, new { htmlAttributes = new { @class = "text-center", @required = "required" } })</div>
                                            <div class="col-md-3"></div>
                                        </div>
                                        <div class="row" style="margin-top:10px">
                                            <div class="col-md-3"></div>
                                            <div class="col-md-3"><input type="radio" style="margin-left: 10px;display: none" /><input type="radio" style="margin-left:10px" id="Customer_name_noAccountNumber_Post" /> Name(No Account)</div>
                                            <div class="col-md-3">@Html.EditorFor(m => m.AddDR.customer_name_NoAccount, new { htmlAttributes = new { @class = "text-center", @required = "required" } })</div>
                                            <div class="col-md-3"></div>
                                        </div>
                                        <div class="row" style="margin-left:auto; margin-right:auto; margin-top:15px">
                                            @Html.TextAreaFor(m => m.AddDR.details, 3, 120, new { @placeholder = " Details", htmlAttributes = new { @required = "required" } })
                                        </div>
                                        <div class="row" style="margin-left:auto; margin-right:auto; margin-top:15px">
                                            @Html.TextAreaFor(m => m.AddDR.recommandation, 3, 120, new { @placeholder = " Recommendation", htmlAttributes = new { @required = "required" } })
                                        </div>
                                        <div class="row" style="display:none; margin-bottom:3px; margin-top:10px">
                                            <div style="margin-left:15px">Attachments</div>
                                            @*@Html.EditorFor(m => m.AddDR.customer_name_NoAccount, new { htmlAttributes = new { @class = "text-center", @id = "Attachments" } })*@
                                        </div>
                                        <div class="row" style="display:none; margin-left:auto; margin-right:auto;">

                                            <div id="dropArea" style="width:800px; height:100px">
                                                Drop your files here
                                            </div>
                                        </div>
                                        <div class="row" style="margin-left:auto; margin-right:auto; margin-top:15px">
                                            @Html.TextAreaFor(m => m.AddDR.final_outcome, 3, 120, new { @placeholder = " Final Outcome", htmlAttributes = new { @required = "required" } })
                                        </div>
                                        <div class="row">
                                            <div class="custom-control custom-switch" style="margin-top:20px; margin-left:15px">
                                                <input type="checkbox" class="custom-control-input" id="Complete_status_Switch_Post">
                                                <label class="custom-control-label" for="customSwitch1">(Completed status)</label>
                                                <input type="text" style="display:none" id="Complete_status_Post" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-footer text-right" style="border:none; padding-top:0px">
                                        <button type="button" style="padding:3px 20px 3px 20px; margin-right:10px" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                                        <input type="submit" style="padding:3px 30px 3px 30px" class="btn btn-success" value="Save" />
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="col-lg-6">
                            <table id="disputeResolution" class="table table-striped table-bordered display compact" cellspacing="0" style="width:100%; height:500px; display:none; border-color:white">
                                <thead class="thead-dark" style="text-align: center">
                                    <tr>
                                        <th scope="col" style="padding:0px; margin:0px; font-size:8px">Date</th>
                                        <th scope="col" style="padding:0px; margin:0px; font-size:8px">Employee</th>
                                        <th scope="col" style="padding:0px; margin:0px; font-size:8px">Invoice#</th>
                                        <th scope="col" style="padding:0px; margin:0px; font-size:8px">Customer</th>
                                        <th style="width:60px; padding:0px; margin:0px; font-size:8px">Info</th>
                                    </tr>
                                </thead>
                                <tbody style="text-align:center">
                                    @foreach (var items in Model.DisputeResolutionDetails)
                                    {
                                        <tr>
                                            <td style="padding:0px; margin:0px;width:300px; ">@items.date_dispute.Value.ToString("yyyy-MM-dd")</td>
                                            <td style="padding:0px; margin:0px;width:150px; ">@items.employee_id</td>
                                            <td style="padding:0px; margin:0px;width:150px; ">@items.invoice_number</td>
                                            <td style="padding:0px; margin:0px;width:150px; ">@items.customer_number</td>
                                            <td style="padding:0px; margin:0px;width:150px; ">
                                                <a href="#" class="btn"><span style="display:none">@items.customer_name_NoAccount; @items.details; @items.invoice_number;@items.employee_id;@items.date_dispute;@items.date_service;@items.mileage_dispute;@items.mileage_service; @items.complete; @items.customer_number; @items.customer_name_NoAccount; @items.recommandation; @items.final_outcome; @items.customer_name_NoAccount</span> <i class="fa fa-info" style="font-size:20px;opacity:0.8; color:dodgerblue;float:right"></i></a>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="AddCRM" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:700px">
                @using (Html.BeginForm("AddNewCRMDetails", "Tools", FormMethod.Post))
                {
                    @Html.HiddenFor(m => m.customerDetails.cust_us1)
                    @Html.HiddenFor(m => m.customerDetails.cust_name)
                    <div class="modal-header" style="padding: 3px 3px 3px 15px">
                        <h5 class="modal-title" id="exampleModalLabel">
                            <b>
                                @Model.Customers.Where(x => x.Value == Model.Custname).Select(x => x.Text).FirstOrDefault()
                            </b>
                        </h5>
                    </div>
                    <div class="modal-body">
                        <div class="row" style="margin-top:30px">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                Visit Type
                                            </div>
                                            <div class="col-lg-8">
                                                @{
                                                    List
                                                    <SelectListItem>
                                                    listItems = new List
                                                    <SelectListItem>
                                                    ();
                                                    listItems.Add(new SelectListItem
                                                    {
                                                        Text = "Select",
                                                        Value = ""
                                                    });
                                                    listItems.Add(new SelectListItem
                                                    {
                                                        Text = "Phone",
                                                        Value = "Phone"
                                                    });
                                                    listItems.Add(new SelectListItem
                                                    {
                                                        Text = "Face-To-Face",
                                                        Value = "Face-To-Face"
                                                    });
                                                }
                                                @Html.DropDownListFor(m => m.AddCRM.visit_type, listItems, new {@id = "CRMVisitType" ,@class = "text", @style = "width:100%; height:30px", @required = "required", @onchange = "checkRequiredCRM()" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                Employee
                                            </div>
                                            <div class="col-lg-8 text-right">
                                                <input style="width:91%" id="UserName" class="text-left" type="text" value="@Model.username" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="margin-top:20px">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                Visit Date
                                            </div>
                                            <div class="col-lg-8">
                                                @Html.EditorFor(m => m.AddCRM.visit_date, new { htmlAttributes = new {@max = System.DateTime.Today.ToString("yyyy-MM-dd"), @id = "CRMVisitDate", @class = "text-left", @type = "date", @style = "width:100%", @required = "required", @onchange = "checkRequiredCRM()" } })

                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                Contact
                                            </div>
                                            <div class="col-lg-8 text-right">
                                                @Html.EditorFor(m => m.AddCRM.customer_contact, new { htmlAttributes = new {@id = "CRMContact", @class = "text-left", @required = "required", @style = "width:91%", @onkeyup = "checkRequiredCRM()"} })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="padding:20px 15px 0px 15px">
                                    @*<textarea class="col-lg-12" rows="7"></textarea>*@
                                    @Html.TextAreaFor(m => m.AddCRM.discusssion_details, 5, 121, new {@id = "CRMComments", @placeholder = " Comments",  @required = "required", @onkeyup = "checkRequiredCRM()" })
                                </div>
                                <div class="row" style="padding:20px 15px 0px 15px">
                                    @*<textarea class="col-lg-12" rows="5"></textarea>*@
                                    @Html.TextAreaFor(m => m.AddCRM.remainder, 3, 121, new { @placeholder = " Reminders(Optional)" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="padding: 3px 3px 3px 15px">
                        <button type="button" class="btn btn-danger" style="padding:3px 30px 3px 30px; margin-right:10px" data-dismiss="modal">Cancel</button>
                        <input type="submit" id="crmSubmit" class="btn btn-success" style="display:none; padding:3px 30px 3px 30px; " value="Submit" />
                    </div>
                }

            </div>
        </div>
    </div>

    <div class="modal fade" id="CallReportingModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:700px">
                <div class="modal-header" style="padding:3px">
                    <div class="col-lg-3 text-left" style="padding-top:5px">
                        <button id="backwordButton" onclick="backward()" class="btn btn-primary" style="font-size:20px; padding:0px 5px 1px 5px"><b><</b></button>
                    </div>
                    <div class="col-lg-6 text-center" style="padding:10px 0px 0px 0px">
                        <h5>Call Reporting Details</h5>
                    </div>
                    <div class="col-lg-3 text-right" style="padding-top:5px">
                        <button id="forwardButton" onclick="forward()" class="btn btn-primary" style="font-size:20px; padding:0px 5px 1px 5px"><b>></b></button>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="clo-lg-2" style="margin-left:20px; margin-right:auto; margin-top: 0px;">
                            <p>Visit type </p>
                        </div>
                        <div class="col-lg-4 text-right" style="margin-right: auto;"><input class="text-center" readonly type="text" id="append_Visit_type" style="text-align:right;" /><br /></div>
                        <div class="clo-lg-2" style="margin-left: 10px; margin-top: 0px;">
                            <p>Date :</p>
                        </div>
                        <div class="col-lg-4 text-right" style="margin-left: 20px;"><input class="text-center "  type="text" id="append_Date" /><br /></div>
                    </div>
                    <div class="row">
                        <div class="clo-lg-2" style="margin-left: 20px; margin-right:auto;margin-top: 0px;">
                            <p>Employee </p>
                        </div>
                        <div class="col-sm-4 text-right" style="margin-right: auto;"><input class="text-center" readonly type="text" id="append_empId" /><br /></div>
                        <div class="clo-lg-2" style="margin-left: 10px;margin-top: 0px;">
                            <p>Contact :</p>
                        </div>
                        <div class="col-sm-4 text-right"><input class="text-center " readonly type="text" id="appendc_Contact" /><br /></div>
                    </div>
                    <div class="row">
                        <div class="clo-lg-12" style="margin-left: 20px">
                            <p>Comments </p>
                        </div>
                    </div>
                    <div class="row" style="margin-left:auto; margin-right:auto;">
                        <textarea class="col-lg-12" style="margin-left:auto; margin-right:auto;" id="append_Comments" readonly rows="8"></textarea>
                    </div>
                    <div class="row" style="margin-top:15px">
                        <div class="clo-lg-12" style="margin-left: 20px">
                            <p>Remainders </p>
                        </div>
                    </div>
                    <div class="row" style="margin-left:auto; margin-right:auto;">
                        <textarea class="col-lg-12" id="append_Remainders" readonly rows="6"></textarea>
                        <input style="display:none" type="text" id="index" name="name" value="" />
                        <input style="display:none" type="text" id="count" name="name" value="" />
                    </div>
                </div>
                <div class="modal-footer" style="padding: 3px 3px 3px 15px">
                    <button type="button" style="padding: 3px 20px 3px 20px" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="targetAccountModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:700px">
                <div class="modal-header" style="padding:3px 3px 3px 15px">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="clo-lg-2" style="margin-left:20px; margin-right:auto; margin-top: 0px;">
                            <p>Visit type </p>
                        </div>
                        <div class="col-lg-4 text-right" style="margin-right:auto;">
                            <input class="text-center" type="text" id="append_Visit_type1" style="text-align:right;" /><br />
                        </div>
                        <div class="clo-lg-2" style="margin-left: 10px; margin-top: 0px;">
                            <p>Date </p>
                        </div>
                        <div class="col-lg-4 text-right" style="margin-left: 20px;">
                            <input class="text-center " type="text" id="append_Date1" /><br />
                        </div>
                    </div>
                    <div class="row">
                        <div class="clo-lg-2" style="margin-left: 20px; margin-right:auto;margin-top: 0px;">
                            <p>Employee </p>
                        </div>
                        <div class="col-sm-4 text-right" style="margin-right: auto;">
                            <input class="text-center" type="text" id="append_empId1" /><br />
                        </div>
                        <div class="clo-lg-2" style="margin-left: 10px;margin-top: 0px;">
                            <p>Contact </p>
                        </div>
                        <div class="col-sm-4 text-right">
                            <input class="text-center " type="text" id="appendc_Contact1" /><br />
                        </div>
                    </div>
                    <div class="row">
                        <div class="clo-lg-12" style="margin-left: 20px">
                            <p>Comments </p>
                        </div>
                    </div>
                    <div class="row" style="margin-left:auto; margin-right:auto;">
                        <textarea class="col-lg-12" style="margin-left:auto; margin-right:auto;" id="append_Comments1" rows="9"></textarea>
                    </div>
                    <div class="row" style="margin-top:10px">
                        <div class="clo-lg-12" style="margin-left: 20px">
                            <p>Remainders </p>
                        </div>
                    </div>
                    <div class="row" style="margin-left:auto; margin-right:auto;">
                        <textarea class="col-lg-12" id="append_Remainders1" rows="6"></textarea>
                    </div>
                </div>
                <div class="modal-footer" style="padding:3px">
                    <button type="button" class="btn btn-danger" style="padding:3px 20px 3px 20px" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="disputeResolutionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:700px">
                <div class="modal-header" style="padding:3px 3px 3px 15px">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="clo-lg-2" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                            <p>CTA Invoice #</p>
                        </div>
                        <div class="col-sm-4 text-center" style="margin-right: auto;"><input class="text-center" type="text" id="Invoice" /><br /></div>
                        <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                            <p>Employee</p>
                        </div>
                        <div class="col-sm-4 text-right"><input class="text-center " type="text" id="Employee_id" /><br /></div>
                    </div>
                    <div class="row">
                        <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                            <p>Date of Dispute</p>
                        </div>
                        <div class="col-sm-3 text-center" style="margin-right: auto; margin-left:4px"><input class="text-center" type="text" id="DateDispute" /><br /></div>
                        <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                            <p>Date of service</p>
                        </div>
                        <div class="col-sm-4 text-right"><input class="text-center " type="text" id="DateService" /><br /></div>
                    </div>
                    <div class="row">
                        <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                            <p>Mileage at dispute</p>
                        </div>
                        <div class="col-sm-3 text-center" style="margin-right: auto;margin-left:5px"><input class="text-center" type="text" id="MileageDispute" /><br /></div>
                        <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                            <p>Mileage at service</p>
                        </div>
                        <div class="col-sm-4 text-right"><input class="text-center " type="text" id="MileageService" /><br /></div>
                    </div>
                    <div class="row" style="margin-top:20px">
                        <div class="col-md-3">Customer:</div>
                        <div class="col-md-3">Account Number</div>
                        <div class="col-md-3"><input type="text" style="margin-left:0px" id="Customer_Account_Number" /></div>
                        <div class="col-md-3"></div>
                    </div>
                    <div class="row" style="margin-top:10px">
                        <div class="col-md-3"></div>
                        <div class="col-md-3">Name(No Account)</div>
                        <div class="col-md-3"><input type="text" style="margin-left:0px" id="Customer_Name_NoAccount" /></div>
                        <div class="col-md-3"></div>
                    </div>
                    <div class="row" style="margin-bottom:10px">
                        <div style="margin-left:15px">Details</div>
                    </div>
                    <div class="row" style="margin-left:auto; margin-right:auto;">
                        <textarea class="col-lg-12" style="margin-left:auto; margin-right:auto;" id="Details" rows="10"></textarea>
                    </div>
                </div>
                <div class="modal-footer" style="padding:3px">
                    <button type="button" class="btn btn-danger" style="padding:3px 20px 3px 20px" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>



    <script>
        $(document).ready(function () {

            $('#searchCR').click(function () {
                var value = $("#myInput").val().toLowerCase();
                $("#callReport tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });

            $('#searchTA').click(function () {
                var value = $("#myInputTA").val().toLowerCase();
                $("#targetAccount tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });


        });
    </script>

    

    <script>

        

        function checkRequiredCRM()
        {
            if ($('#CRMVisitType option:selected').text() != 'Select' && $('#CRMVisitDate').val() != "" && $('#CRMContact').val() != "" && $('#CRMComments').val() != "") {
                $('#crmSubmit').css("display", "block")
            }
            else {
                $('#crmSubmit').css("display", "none")
            }
        }

        function forward() {

            let NextRow = parseInt($('#index').val()) + 1;


            if (NextRow >= parseInt($('#count').val())) {
            }
            else {

                if (NextRow >= parseInt($('#count').val()) - 1) {
                    $('#forwardButton').prop('disabled', true);
                }

                if (NextRow >= 0) {
                    $('#backwordButton').prop('disabled', false);
                }

                //alert(NextRow, $('#count').val())

                $('#index').val(NextRow);

                var currentRow = $('#' + NextRow).closest("tr");


                $('#append_Visit_type').val(currentRow.find("td:eq(0)").text());
                $('#append_Date').val(currentRow.find("td:eq(1)").text());
                $('#apped_AddButton_empname').val(currentRow.find("td:eq(2)").text())
                $('#appendc_Contact').val(currentRow.find("td:eq(3)").text())
                document.getElementById("append_Comments").value = currentRow.find("td:eq(4)").text();
                document.getElementById("append_Remainders").value = currentRow.find("td:eq(5)").text();
            }


            

            
        }

        function backward() {

            let NextRow = parseInt($('#index').val()) - 1;
            if (NextRow < 0) {

            }
            else {

                if (NextRow < 1) {
                    $('#backwordButton').prop('disabled', true);
                }

                //alert(NextRow)

                if (NextRow <= parseInt($('#count').val())) {
                    $('#forwardButton').prop('disabled', false);
                }


                $('#index').val(NextRow);

                var currentRow = $('#' + NextRow).closest("tr");


                $('#append_Visit_type').val(currentRow.find("td:eq(0)").text());
                $('#append_Date').val(currentRow.find("td:eq(1)").text());
                $('#apped_AddButton_empname').val(currentRow.find("td:eq(2)").text())
                $('#appendc_Contact').val(currentRow.find("td:eq(3)").text())
                document.getElementById("append_Comments").value = currentRow.find("td:eq(4)").text();
                document.getElementById("append_Remainders").value = currentRow.find("td:eq(5)").text();
            }

        }


        $(document).ready(function () {

            

            $('#callReport a').click(function (e) {

                e.preventDefault()
                $that = $(this);
                $that.parent().find('a');

                var seleccionado = $(this).children("span").html();

                $('#CallReportingModal').modal();
                var array = seleccionado.split(";");
                $('#append_Visit_type').val(array[0]);
                $('#append_Date').val(array[1].split("").slice(0, 10).join(""));
                $('#append_empId').val(array[6])
                $('#appendc_Contact').val(array[3])
                document.getElementById("append_Comments").value = array[4];
                document.getElementById("append_Remainders").value = array[5];

                $('#apped_AddButton_empname').val(array[6])
                $('#index').val(array[8])
                $('#count').val(array[9])

                if (parseInt($('#index').val()) < 1) {
                    $('#backwordButton').prop('disabled', true);
                }
                else {
                    $('#backwordButton').prop('disabled', false);
                }

                if (parseInt($('#index').val()) >= parseInt($('#count').val()) - 1) {
                    $('#forwardButton').prop('disabled', true);
                }
                else {
                    $('#forwardButton').prop('disabled', false);
                }


            });

            $('#targetAccount a').click(function (e) {

                e.preventDefault()
                $that = $(this);
                $that.parent().find('a');

                var seleccionado = $(this).children("span").html();

                $('#targetAccountModal').modal();

                var array = seleccionado.split(";");
                $('#append_Visit_type1').val(array[1]);
                $('#append_Date1').val(array[2].split("").slice(0, 11).join(""))
                $('#append_empId1').val(array[3])
                $('#appendc_Contact1').val(array[4])
                $('#apped_AddButton_empname1').val(array[6])
                document.getElementById("append_Comments1").value = array[5];
                document.getElementById("append_Remainders1").value = array[6];


            });

            $('#disputeResolution a').click(function (e) {

                e.preventDefault()
                $that = $(this);
                $that.parent().find('a');

                var seleccionado = $(this).children("span").html();

                $('#disputeResolutionModal').modal();

                //alert(seleccionado)

                var array = seleccionado.split(";");

                //alert(seleccionado);

                $('#append_Visit_type').val(array[0]);
                $('#append_Date').val(array[1].split("").slice(0, 10).join(""))
                $('#append_empId').val(array[6])
                $('#appendc_Contact').val(array[3])
                $('#apped_AddButton_empname').val(array[6])
                document.getElementById("append_Comments").value = array[4];
                document.getElementById("append_Remainders").value = array[5];

            });





        });

    </script>
</body>
</html>





