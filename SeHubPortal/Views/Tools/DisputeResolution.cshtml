@model SeHubPortal.ViewModel.CustomerReportingViewModel
@{
    ViewBag.Title = "DisputeResolution";
    Layout = "~/Views/Shared/_DevelopmentLayout.cshtml";
}

    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="viewport" content="width=device-width" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>

        @if (Model.SehubAccess.plant > 0)
        {
            <style>
                #PlantClicked {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.payroll > 0)
        {
            <style>
                #PayrollClicked {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.fleetTVT > 0)
        {
            <style>
                #FleetTVTClicked {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.treadTracker > 0)
        {
            <style>
                #treadTrackereClicked {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.library_access > 0)
        {
            <style>
                #libraryClicked {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.main > 0)
        {
            <style>
                #mainClicked {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.settings == 3)
        {
            <style>
                #SettingsClicked {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.management == 3)
        {
            <style>
                #ManagementClicked {
                    display: block !important;
                }
            </style>
        }


        @if (Model.SehubAccess.tools_dashboard > 0)
        {
            <style>
                #DashboardLink {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.fuel_log > 0)
        {
            <style>
                #FuelLogLink {
                    display: block !important;
                }
            </style>
        }

        @if (Model.SehubAccess.employee_id == 10577 || Model.SehubAccess.employee_id == 10901)
        {
            <style>
                #ExpnseClaimLink {
                    display: block !important;
                }
            </style>
        }

        <style>

            #CRMLink {
                display: block !important;
            }

            #DRLink {
                display: block !important;
            }

            #DevelopmentClicked {
                display: block !important;
            }

            #DevelopmentClicked {
                background-color: #f0f2f5;
            }

            #developmentBtn {
                font-weight: bold;
            }

            #dropArea {
                background: #b5b5b5;
                border: black dashed 1px;
                height: 50px;
                text-align: center;
                color: #fff;
                padding-top: 12px;
            }

            .active-drop {
                background: #77bafa !important;
                border: solid 2px blue !important;
                opacity: .5;
                color: black !important;
            }

            .modal {
                padding-right: 15%;
                overflow: hidden;
                margin-right: 0px;
            }

            ul#navigation .active {
                font-weight: bold;
            }

            #dropZone {
                border: 1px dotted red;
                text-align: center;
            }



            #DRLink {
                color: black;
                font-weight: 700;
                background-color: #f0f2f5;
            }


            body {
                background-color: #f0f2f5;
                padding-right: 0 !important;
            }

            .heading {
                margin: 10px 0px 0px 0px;
            }

                .heading h2 {
                    margin-top: 8px;
                }

            .card-header {
                background-color: #c0c2c4;
            }

                .card-header h6 {
                    color: black;
                }

            #historyTable_info {
                display: none;
            }

            #historyTable2_info {
                display: none;
            }

            #historyTable3_info {
                display: none;
            }

            .dataTables_filter {
                float: right;
                height: 30px;
            }

            #historyTable_filter {
                display: none;
            }

            .breadCrumb {
                background-color: white;
            }

            #historyTable2_filter {
                float: right;
                margin: 0px 0px 25px 0px;
            }

            #historyTable3_filter {
                float: right;
                margin: 0px 0px 25px 0px;
            }

                #historyTable3_filter input {
                    float: right;
                    margin: 0px 2px 0px 10px;
                }

            #historyTable2_filter input {
                float: right;
                margin: 0px 2px 0px 10px;
            }

            .dataTables_filter input {
                width: 285px;
            }

            #historyTable_paginate {
                float: right;
            }

            #historyTable2_paginate {
                float: right;
            }

            #historyTable3_paginate {
                float: right;
            }

            label {
                display: inline-flex;
                margin-top: 0px;
                margin-bottom: 0px;
            }

            /* Hide scrollbar for Chrome, Safari and Opera */
            .example::-webkit-scrollbar {
                display: none;
            }

            /* Hide scrollbar for IE, Edge and Firefox */
            .example {
                -ms-overflow-style: none; /* IE and Edge */
                scrollbar-width: none; /* Firefox */
            }
        </style>
    </head>
    <body>
        <div class="row heading">
            <div class="col">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb breadCrumb" style="height: 100%; margin-top: 0px;">
                        <li class="breadcrumb-item"><a href="@Url.Action("DisputeResolution", "Tools")">Tools</a></li>
                        <li class="breadcrumb-item " aria-current="page">Dispute Resolution</li>
                    </ol>
                </nav>
            </div>
            <button type="button" id="clickThis" class="btn" style="margin-bottom: 14px;">
                <i class="fa fa-bars" style="font-size: 25px "></i>
                <span class="sr-only">Toggle Menu</span>
            </button>
        </div>
        <div class="row" style="padding:7px 15px 15px 15px">
            <div class="col-lg-6">
                @using (Html.BeginForm("AddNewDRDetails", "Tools", FormMethod.Post))
                {
                    <div class="card shadow-sm" style="border:2px solid #aeafb0">
                        <div class="card-header text-center" style="background-color:#c0c2c4; padding:7px 0px 7px 0px">
                            <h4 class="modal-title" id="exampleModalLabel" style="color:white"><b>Add New Dispute Resolution Details</b></h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="clo-lg-2" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                    <p>CTA Invoice #</p>
                                </div>
                                <div class="col-sm-4 text-center" style="margin-right: auto;">@Html.EditorFor(m => m.AddDR.invoice_number, new { htmlAttributes = new { @class = "text-center", @required = "required" } })<br /></div>
                                <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                    <p>Employee</p>
                                </div>
                                <div class="col-sm-4 text-right"><input type="text" readonly name="name" value="@Model.username" /><br /></div>
                            </div>
                            <div class="row">
                                <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                    <p>Date of Dispute</p>
                                </div>
                                <div class="col-sm-3 text-center" style="margin-right: auto; margin-left:4px">@Html.EditorFor(m => m.AddDR.date_dispute, new { htmlAttributes = new { @class = "text-center", @type = "date", @style = "width:184px", @required = "required" } })<br /></div>
                                <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                    <p>Date of service</p>
                                </div>
                                <div class="col-sm-4 text-right">@Html.EditorFor(m => m.AddDR.date_service, new { htmlAttributes = new { @class = "text-center", @type = "date", @style = "width:184px", @required = "required" } })<br /></div>
                            </div>
                            <div class="row">
                                <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                    <p>Mileage at dispute</p>
                                </div>
                                <div class="col-sm-3 text-center" style="margin-right: auto;margin-left:5px">@Html.EditorFor(m => m.AddDR.mileage_dispute, new { htmlAttributes = new { @class = "text-center", @required = "required" } })<br /></div>
                                <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                    <p>Mileage at service</p>
                                </div>
                                <div class="col-sm-4 text-right">@Html.EditorFor(m => m.AddDR.mileage_service, new { htmlAttributes = new { @class = "text-center", @required = "required" } })<br /></div>
                            </div>
                            <div class="row" style="margin-top:20px">
                                <div class="col-md-3">Customer:</div>
                                <div class="col-md-3"><input type="radio" style="margin-left:10px" id="Account_number_Post" /> Account Number</div>
                                <div class="col-md-3">@Html.EditorFor(m => m.AddDR.customer_number, new { htmlAttributes = new { @class = "text-center", @required = "required" } })</div>
                                <div class="col-md-3"></div>
                            </div>
                            <div class="row" style="margin-top:10px">
                                <div class="col-md-3"></div>
                                <div class="col-md-3"><input type="radio" style="margin-left: 10px;display: none" /><input type="radio" style="margin-left:10px" id="Customer_name_noAccountNumber_Post" /> Name(No Account)</div>
                                <div class="col-md-3">@Html.EditorFor(m => m.AddDR.customer_name_NoAccount, new { htmlAttributes = new { @class = "text-center", @required = "required" } })</div>
                                <div class="col-md-3"></div>
                            </div>
                            <div class="row" style="margin-left:auto; margin-right:auto; margin-top:15px">
                                @Html.TextAreaFor(m => m.AddDR.details, 3, 120, new { @placeholder = " Details", htmlAttributes = new { @required = "required" } })
                            </div>
                            <div class="row" style="margin-left:auto; margin-right:auto; margin-top:15px">
                                @Html.TextAreaFor(m => m.AddDR.recommandation, 3, 120, new { @placeholder = " Recommendation", htmlAttributes = new { @required = "required" } })
                            </div>
                            <div class="row" style="display:none; margin-bottom:3px; margin-top:10px">
                                <div style="margin-left:15px">Attachments</div>
                                @*@Html.EditorFor(m => m.AddDR.customer_name_NoAccount, new { htmlAttributes = new { @class = "text-center", @id = "Attachments" } })*@
                            </div>
                            <div class="row" style="display:none; margin-left:auto; margin-right:auto;">

                                <div id="dropArea" style="width:800px; height:100px">
                                    Drop your files here
                                </div>
                            </div>
                            <div class="row" style="margin-left:auto; margin-right:auto; margin-top:15px">
                                @Html.TextAreaFor(m => m.AddDR.final_outcome, 3, 120, new { @placeholder = " Final Outcome", htmlAttributes = new { @required = "required" } })
                            </div>
                            <div class="row">
                                <div class="custom-control custom-switch" style="margin-top:20px; margin-left:15px">
                                    <input type="checkbox" class="custom-control-input" id="Complete_status_Switch_Post">
                                    <label class="custom-control-label" for="customSwitch1">(Completed status)</label>
                                    <input type="text" style="display:none" id="Complete_status_Post" />
                                </div>
                            </div>
                        </div>
                        <div class="card-footer text-right" style="border:none; padding-top:0px">
                            <button type="button" style="padding:3px 20px 3px 20px; margin-right:10px" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                            <input type="submit" style="padding:3px 30px 3px 30px" class="btn btn-success" value="Save" />
                        </div>
                    </div>
                }
            </div>
            <div class="col-lg-6">
                <table id="disputeResolution" class="table table-striped table-bordered display compact" cellspacing="0" style="width:100%; height:500px; display:none; border-color:white">
                    <thead class="thead-dark" style="text-align: center">
                        <tr>
                            <th scope="col" style="padding:0px; margin:0px; font-size:8px">Date</th>
                            <th scope="col" style="padding:0px; margin:0px; font-size:8px">Employee</th>
                            <th scope="col" style="padding:0px; margin:0px; font-size:8px">Invoice#</th>
                            <th scope="col" style="padding:0px; margin:0px; font-size:8px">Customer</th>
                            <th style="width:60px; padding:0px; margin:0px; font-size:8px">Info</th>
                        </tr>
                    </thead>
                    <tbody style="text-align:center">
                        @foreach (var items in Model.DisputeResolutionDetails)
                        {
                            <tr>
                                <td style="padding:0px; margin:0px;width:300px; ">@items.date_dispute.Value.ToString("yyyy-MM-dd")</td>
                                <td style="padding:0px; margin:0px;width:150px; ">@items.employee_id</td>
                                <td style="padding:0px; margin:0px;width:150px; ">@items.invoice_number</td>
                                <td style="padding:0px; margin:0px;width:150px; ">@items.customer_number</td>
                                <td style="padding:0px; margin:0px;width:150px; ">
                                    <a href="#" class="btn"><span style="display:none">@items.customer_name_NoAccount; @items.details; @items.invoice_number;@items.employee_id;@items.date_dispute;@items.date_service;@items.mileage_dispute;@items.mileage_service; @items.complete; @items.customer_number; @items.customer_name_NoAccount; @items.recommandation; @items.final_outcome; @items.customer_name_NoAccount</span> <i class="fa fa-info" style="font-size:20px;opacity:0.8; color:dodgerblue;float:right"></i></a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <div class="modal fade" id="disputeResolutionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content" style="width:700px">
                    <div class="modal-header" style="padding:3px 3px 3px 15px">
                        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="clo-lg-2" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                <p>CTA Invoice #</p>
                            </div>
                            <div class="col-sm-4 text-center" style="margin-right: auto;"><input class="text-center" type="text" id="Invoice" /><br /></div>
                            <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                <p>Employee</p>
                            </div>
                            <div class="col-sm-4 text-right"><input class="text-center " type="text" id="Employee_id" /><br /></div>
                        </div>
                        <div class="row">
                            <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                <p>Date of Dispute</p>
                            </div>
                            <div class="col-sm-3 text-center" style="margin-right: auto; margin-left:4px"><input class="text-center" type="text" id="DateDispute" /><br /></div>
                            <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                <p>Date of service</p>
                            </div>
                            <div class="col-sm-4 text-right"><input class="text-center " type="text" id="DateService" /><br /></div>
                        </div>
                        <div class="row">
                            <div class="clo-lg-1" style="margin-left: 15px; margin-right:auto;margin-top: 0px;">
                                <p>Mileage at dispute</p>
                            </div>
                            <div class="col-sm-3 text-center" style="margin-right: auto;margin-left:5px"><input class="text-center" type="text" id="MileageDispute" /><br /></div>
                            <div class="clo-lg-2 text-left" style="margin-top: 0px;">
                                <p>Mileage at service</p>
                            </div>
                            <div class="col-sm-4 text-right"><input class="text-center " type="text" id="MileageService" /><br /></div>
                        </div>
                        <div class="row" style="margin-top:20px">
                            <div class="col-md-3">Customer:</div>
                            <div class="col-md-3">Account Number</div>
                            <div class="col-md-3"><input type="text" style="margin-left:0px" id="Customer_Account_Number" /></div>
                            <div class="col-md-3"></div>
                        </div>
                        <div class="row" style="margin-top:10px">
                            <div class="col-md-3"></div>
                            <div class="col-md-3">Name(No Account)</div>
                            <div class="col-md-3"><input type="text" style="margin-left:0px" id="Customer_Name_NoAccount" /></div>
                            <div class="col-md-3"></div>
                        </div>
                        <div class="row" style="margin-bottom:10px">
                            <div style="margin-left:15px">Details</div>
                        </div>
                        <div class="row" style="margin-left:auto; margin-right:auto;">
                            <textarea class="col-lg-12" style="margin-left:auto; margin-right:auto;" id="Details" rows="10"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer" style="padding:3px">
                        <button type="button" class="btn btn-danger" style="padding:3px 20px 3px 20px" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </body>
    </html>